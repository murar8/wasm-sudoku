(()=>{"use strict";var e,t,n,r,o={243:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var r=n(235),o=n(530),s=e([r,o]);[r,o]=s.then?(await s)():s;const i=2**32-1;function a(e,t,n){e.timeouts||(e.timeouts={}),e.timeouts[t]&&(clearTimeout(e.timeouts[t]),delete e.timeouts[t]);const r=setTimeout((()=>{e.classList.remove(t),delete e.timeouts[t]}),n);e.timeouts[t]=r,e.classList.add(t)}const c=new URLSearchParams(window.location.search);function u(){const e=Math.floor(Math.random()*i);c.set("seed",e),window.location.search=c}c.has("seed")||u();const d=c.get("seed"),l=r.e2.random(d),_=new Uint8Array(o.memory.buffer,l.getGrid(),l.grid_span**2);function p(e){const t=document.getElementById("sudoku-grid");e?t.classList.add("sudoku-grid-solved"):t.classList.remove("sudoku-grid-solved")}function f(e){if("Backspace"!==e.key&&"Delete"!==e.key&&1!==e.key.length)return!1;const t=["Backspace","Delete"].includes(e.key)?0:parseInt(e.key);return isNaN(t)||t<0||t>9?a(e.target,"sudoku-item-error",200):l.play(e.target.index,t)!=r.FI.Ok?a(e.target,"sudoku-item-warn",200):e.currentTarget.value=0!==t?t:"",l.isSolved()&&p(!0),e.preventDefault(),!0}function b(){const e=document.getElementById("sudoku-grid");e.innerHTML="";for(const[t,n]of _.entries()){const r=document.createElement("input");r.classList.add("sudoku-item"),r.index=t,n&&(r.value=n),l.isMutableCell(t)||(r.readOnly=!0,r.tabIndex=-1),r.addEventListener("keydown",f),e.appendChild(r)}}function g(){u()}function m(e){l.solve()===r.Hl.Solved?(b(),p(!0)):a(e.currentTarget,"button-shake",600)}function h(){l.reset(),b(),p(!1)}const y=document.getElementById("generate-button");y.addEventListener("click",g),y.classList.remove("hidden");const w=document.getElementById("solve-button");w.addEventListener("click",m),w.classList.remove("hidden");const v=document.getElementById("reset-button");v.addEventListener("click",h),v.classList.remove("hidden");const k=document.getElementById("sudoku-grid");k.style.gridTemplateColumns=`repeat(${l.grid_span}, 1fr)`,k.style.gridTemplateRows=k.style.gridTemplateColumns,b(),t()}catch(x){t(x)}}))},235:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{FI:()=>s.FI,Hl:()=>s.Hl,e2:()=>s.e2});var o=n(530),s=n(838),i=e([o]);o=(i.then?(await i)():i)[0],(0,s.oT)(o),o.__wbindgen_start(),r()}catch(e){r(e)}}))},838:(e,t,n)=>{let r;function o(e){r=e}n.d(t,{FI:()=>h,Hl:()=>m,KM:()=>v,Or:()=>E,a2:()=>w,e2:()=>y,iX:()=>k,oT:()=>o,ug:()=>x}),e=n.hmd(e);const s=new Array(128).fill(void 0);function i(e){return s[e]}s.push(void 0,null,!0,!1);let a=s.length;let c=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});c.decode();let u=null;function d(){return null!==u&&0!==u.byteLength||(u=new Uint8Array(r.memory.buffer)),u}function l(e,t){return c.decode(d().subarray(e,e+t))}let _=0,p=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const f="function"==typeof p.encodeInto?function(e,t){return p.encodeInto(e,t)}:function(e,t){const n=p.encode(e);return t.set(n),{read:e.length,written:n.length}};let b=null;function g(){return null!==b&&0!==b.byteLength||(b=new Int32Array(r.memory.buffer)),b}const m=Object.freeze({Solved:0,0:"Solved",Unsolvable:1,1:"Unsolvable"}),h=Object.freeze({Ok:0,0:"Ok",InvalidMove:1,1:"InvalidMove",InvalidInput:2,2:"InvalidInput"});class y{static __wrap(e){const t=Object.create(y.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_sudoku_free(e)}get grid_span(){return r.__wbg_get_sudoku_grid_span(this.ptr)>>>0}set grid_span(e){r.__wbg_set_sudoku_grid_span(this.ptr,e)}get block_span(){return r.__wbg_get_sudoku_block_span(this.ptr)>>>0}set block_span(e){r.__wbg_set_sudoku_block_span(this.ptr,e)}solve(){return r.sudoku_solve(this.ptr)>>>0}play(e,t){return r.sudoku_play(this.ptr,e,t)>>>0}reset(){r.sudoku_reset(this.ptr)}static random(e){const t=r.sudoku_random(e);return y.__wrap(t)}getGrid(){return r.sudoku_getGrid(this.ptr)}isMutableCell(e){return 0!==r.sudoku_isMutableCell(this.ptr,e)}isSolved(){return 0!==r.sudoku_isSolved(this.ptr)}}function w(){return function(e){a===s.length&&s.push(s.length+1);const t=a;return a=s[t],s[t]=e,t}(new Error)}function v(e,t){const n=function(e,t,n){if(void 0===n){const n=p.encode(e),r=t(n.length);return d().subarray(r,r+n.length).set(n),_=n.length,r}let r=e.length,o=t(r);const s=d();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;s[o+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),o=n(o,r,r=i+3*e.length);const t=d().subarray(o+i,o+r);i+=f(e,t).written}return _=i,o}(i(t).stack,r.__wbindgen_malloc,r.__wbindgen_realloc),o=_;g()[e/4+1]=o,g()[e/4+0]=n}function k(e,t){try{console.error(l(e,t))}finally{r.__wbindgen_free(e,t)}}function x(e){!function(e){const t=i(e);(function(e){e<132||(s[e]=a,a=e)})(e)}(e)}function E(e,t){throw new Error(l(e,t))}},530:(e,t,n)=>{var r=n(838);e.exports=n.v(t,e.id,"1bd100be6814a8c517b9",{"./index_bg.js":{__wbg_new_abda76e883ba8a5f:r.a2,__wbg_stack_658279fe44541cf6:r.KM,__wbg_error_f851667af71bcfc6:r.iX,__wbindgen_object_drop_ref:r.ug,__wbindgen_throw:r.Or}})}},s={};function i(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return o[e](n,n.exports,i),n.loaded=!0,n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},i.a=(o,s,i)=>{var a;i&&((a=[]).d=1);var c,u,d,l=new Set,_=o.exports,p=new Promise(((e,t)=>{d=t,u=e}));p[t]=_,p[e]=e=>(a&&e(a),l.forEach(e),p.catch((e=>{}))),o.exports=p,s((o=>{var s;c=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var s=[];s.d=0,o.then((e=>{i[t]=e,r(s)}),(e=>{i[n]=e,r(s)}));var i={};return i[e]=e=>e(s),i}}var a={};return a[e]=e=>{},a[t]=o,a})))(o);var i=()=>c.map((e=>{if(e[n])throw e[n];return e[t]})),u=new Promise((t=>{(s=()=>t(i)).r=0;var n=e=>e!==a&&!l.has(e)&&(l.add(e),e&&!e.d&&(s.r++,e.push(s)));c.map((t=>t[e](n)))}));return s.r?u:i()}),(e=>(e?d(p[n]=e):u(_),r(a)))),a&&(a.d=0)},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.v=(e,t,n,r)=>{var o=fetch(i.p+""+n+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((t=>Object.assign(e,t.instance.exports))):o.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,r))).then((t=>Object.assign(e,t.instance.exports)))},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),i(243)})();
//# sourceMappingURL=index.js.map