(()=>{"use strict";var e,t,r,n,o,s={243:(e,t,r)=>{r.a(e,(async e=>{var t=r(838),n=r(530),o=e([t,n]);function s(e,t,r){e.timeouts||(e.timeouts={}),e.timeouts[t]&&(clearTimeout(e.timeouts[t]),delete e.timeouts[t]);const n=setTimeout((()=>{e.classList.remove(t),delete e.timeouts[t]}),r);e.timeouts[t]=n,e.classList.add(t)}[t,n]=o.then?await o:o;const i=new URLSearchParams(window.location.search);function a(){const e=Math.floor(4294967295*Math.random());i.set("seed",e),window.location.search=i}i.has("seed")||a();const u=i.get("seed"),c=t.e2.random(u),d=new Uint8Array(n.memory.buffer,c.getGrid(),c.grid_span**2);function l(e){const t=document.getElementById("sudoku-grid");e?t.classList.add("sudoku-grid-solved"):t.classList.remove("sudoku-grid-solved")}function f(e){if("Backspace"!==e.key&&"Delete"!==e.key&&1!==e.key.length)return!1;const r=["Backspace","Delete"].includes(e.key)?0:parseInt(e.key);return isNaN(r)||r<0||r>9?s(e.target,"sudoku-item-error",200):c.play(e.target.index,r)!=t.FI.Ok?s(e.target,"sudoku-item-warn",200):e.currentTarget.value=0!==r?r:"",c.isSolved()&&l(!0),e.preventDefault(),!0}function p(){const e=document.getElementById("sudoku-grid");e.innerHTML="";for(const[t,r]of d.entries()){const n=document.createElement("input");n.classList.add("sudoku-item"),n.index=t,r&&(n.value=r),c.isMutableCell(t)||(n.readOnly=!0,n.tabIndex=-1),n.addEventListener("keydown",f),e.appendChild(n)}}const _=document.getElementById("generate-button");_.addEventListener("click",(function(){a()})),_.classList.remove("hidden");const g=document.getElementById("solve-button");g.addEventListener("click",(function(e){c.solve()===t.Hl.Solved?(p(),l(!0)):s(e.currentTarget,"button-shake",600)})),g.classList.remove("hidden");const m=document.getElementById("reset-button");m.addEventListener("click",(function(){c.reset(),p(),l(!1)})),m.classList.remove("hidden");const h=document.getElementById("sudoku-grid");h.style.gridTemplateColumns=`repeat(${c.grid_span}, 1fr)`,h.style.gridTemplateRows=h.style.gridTemplateColumns,p()}))},838:(e,t,r)=>{r.a(e,(async n=>{r.d(t,{Hl:()=>b,FI:()=>y,e2:()=>v,Ih:()=>w,yq:()=>k,gk:()=>x,ug:()=>E,Or:()=>I});var o=r(530);e=r.hmd(e);var s=n([o]);o=(s.then?await s:s)[0];const i=new Array(32).fill(void 0);function a(e){return i[e]}i.push(void 0,null,!0,!1);let u=i.length;let c=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});c.decode();let d=null;function l(){return null!==d&&d.buffer===o.memory.buffer||(d=new Uint8Array(o.memory.buffer)),d}function f(e,t){return c.decode(l().subarray(e,e+t))}let p=0,_=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const g="function"==typeof _.encodeInto?function(e,t){return _.encodeInto(e,t)}:function(e,t){const r=_.encode(e);return t.set(r),{read:e.length,written:r.length}};let m=null;function h(){return null!==m&&m.buffer===o.memory.buffer||(m=new Int32Array(o.memory.buffer)),m}const b=Object.freeze({Solved:0,0:"Solved",Unsolvable:1,1:"Unsolvable"}),y=Object.freeze({Ok:0,0:"Ok",InvalidMove:1,1:"InvalidMove",InvalidInput:2,2:"InvalidInput"});class v{static __wrap(e){const t=Object.create(v.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.__wbg_sudoku_free(e)}get grid_span(){return o.__wbg_get_sudoku_grid_span(this.ptr)>>>0}set grid_span(e){o.__wbg_set_sudoku_grid_span(this.ptr,e)}get block_span(){return o.__wbg_get_sudoku_block_span(this.ptr)>>>0}set block_span(e){o.__wbg_set_sudoku_block_span(this.ptr,e)}solve(){return o.sudoku_solve(this.ptr)>>>0}play(e,t){return o.sudoku_play(this.ptr,e,t)>>>0}reset(){o.sudoku_reset(this.ptr)}static random(e){var t=o.sudoku_random(e);return v.__wrap(t)}getGrid(){return o.sudoku_getGrid(this.ptr)}isMutableCell(e){return 0!==o.sudoku_isMutableCell(this.ptr,e)}isSolved(){return 0!==o.sudoku_isSolved(this.ptr)}}function w(){return function(e){u===i.length&&i.push(i.length+1);const t=u;return u=i[t],i[t]=e,t}(new Error)}function k(e,t){var r=function(e,t,r){if(void 0===r){const r=_.encode(e),n=t(r.length);return l().subarray(n,n+r.length).set(r),p=r.length,n}let n=e.length,o=t(n);const s=l();let i=0;for(;i<n;i++){const t=e.charCodeAt(i);if(t>127)break;s[o+i]=t}if(i!==n){0!==i&&(e=e.slice(i)),o=r(o,n,n=i+3*e.length);const t=l().subarray(o+i,o+n);i+=g(e,t).written}return p=i,o}(a(t).stack,o.__wbindgen_malloc,o.__wbindgen_realloc),n=p;h()[e/4+1]=n,h()[e/4+0]=r}function x(e,t){try{console.error(f(e,t))}finally{o.__wbindgen_free(e,t)}}function E(e){!function(e){const t=a(e);(function(e){e<36||(i[e]=u,u=e)})(e)}(e)}function I(e,t){throw new Error(f(e,t))}}))},530:(e,t,r)=>{var n=([n])=>r.v(t,e.id,"318d0f33a87a1055dfa9",{"./index_bg.js":{__wbg_new_693216e109162396:n.Ih,__wbg_stack_0ddaca5d1abfb52f:n.yq,__wbg_error_09919627ac0992f5:n.gk,__wbindgen_object_drop_ref:n.ug,__wbindgen_throw:n.Or}});r.a(e,(e=>{var t=e([r(838)]);return t.then?t.then(n):n(t)}),1)}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return s[e](r,r.exports,a),r.loaded=!0,r.exports}e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},n=e=>!--e.r&&e(),o=(e,t)=>e?e.push(t):n(t),a.a=(s,i,a)=>{var u,c,d,l=a&&[],f=s.exports,p=!0,_=!1,g=(t,r,n)=>{_||(_=!0,r.r+=t.length,t.map(((t,o)=>t[e](r,n))),_=!1)},m=new Promise(((e,t)=>{d=t,c=()=>(e(f),r(l),l=0)}));m[t]=f,m[e]=(e,t)=>{if(p)return n(e);u&&g(u,e,t),o(l,e),m.catch(t)},s.exports=m,i((s=>{if(!s)return c();var i,a;u=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[e])return s;if(s.then){var i=[];s.then((e=>{a[t]=e,r(i),i=0}));var a={};return a[e]=(e,t)=>(o(i,e),s.catch(t)),a}}var u={};return u[e]=e=>n(e),u[t]=s,u})))(s);var d=new Promise(((e,r)=>{(i=()=>e(a=u.map((e=>e[t])))).r=0,g(u,i,r)}));return i.r?d:a})).then(c,d),p=!1},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.v=(e,t,r,n)=>{var o=fetch(a.p+""+r+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,n).then((t=>Object.assign(e,t.instance.exports))):o.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,n))).then((t=>Object.assign(e,t.instance.exports)))},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),a(243)})();
//# sourceMappingURL=index.js.map